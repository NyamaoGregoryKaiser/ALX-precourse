# A generic, usable alembic.ini will be created by `alembic init migrations`.
# Key things to ensure are:
# - sqlalchemy.url pointing to your database (or configured in env.py)
# - script_location pointing to your migrations folder
# - target_metadata pointing to your models.Base.metadata or db.metadata

[alembic]
# path to migration scripts
script_location = migrations
# template used to generate new migration files
file_template = %%(rev)s_%%(slug)s

# Revision identifiers begin with 'head' for the most recent revision,
# 'base' for the first revision.
revision_environment = false
revision_inherit = false
version_locations = %(script_location)s
history_template =
compare_type = true
output_buffer_length = 5
truncate_console_output = false

# set to 'true' to run the 'post_write_hooks' section defined
# in each environment configuration
include_hooks_from_config = false

# Dependency configuration - pass a 'dependencies' key/value pair
# in the 'environment' section of your migration script to refer
# to configurations set up here.
dependencies =

[post_write_hooks]
# post_write_hooks allow you to configure command-line programs to
# be run after migration scripts are written. See the documentation
# for more details.
#
# E.g.:
# hooks = my_hook
# my_hook.type = console_scripts
# my_hook.entrypoint = myapp.entrypoint:main
# my_hook.args = ['--config-file', '${file}']

[loggers]
keys = root,sqlalchemy,alembic

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARNING
handlers = console
qualname =

[logger_sqlalchemy]
level = WARNING
handlers = console
qualname = sqlalchemy.engine

[logger_alembic]
level = INFO
handlers = console
qualname = alembic

[handler_console]
class = StreamHandler
args = (sys.stderr,)
formatter = generic

[formatter_generic]
format = %(levelname)-5.5s [%(name)s] %(message)s
datefmt = %H:%M:%S

# Configuration specific to env.py. This should include:
# - SQLALCHEMY_URL for the database connection
# - target_metadata for SQLAlchemy Base/metadata object
#
# These are typically configured in `migrations/env.py` itself,
# dynamically based on the Flask app configuration.
# The following lines are illustrative for when env.py sources them from ini.
# In our setup, `env.py` will load Flask's config.
# sqlalchemy.url = postgresql://user:password@db:5432/ecommerce_db
# target_metadata = app.database.db.metadata