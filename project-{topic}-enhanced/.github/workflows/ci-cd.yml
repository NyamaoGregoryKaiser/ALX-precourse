```yaml
name: CI/CD Pipeline

on:
  push:
    branches:
      - main
      - develop
  pull_request:
    branches:
      - main
      - develop

jobs:
  build-and-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      with:
        submodules: recursive # Checkout submodules (Crow, nlohmann_json, jwt-cpp, cpp-bcrypt)

    - name: Install System Dependencies
      run: |
        sudo apt-get update
        sudo apt-get install -y \
          build-essential \
          cmake \
          libpq-dev \
          libpqxx-dev \
          libssl-dev \
          git \
          pkg-config \
          libspdlog-dev # Install spdlog from apt if available, otherwise build manually or use vcpkg/conan
          # For jwt-cpp if not installed via system package, might need manual build of OpenSSL or use a Docker base image with it

    # Install spdlog and jwt-cpp manually if apt versions are too old or not available
    - name: Install spdlog from source (if not via apt)
      run: |
        if ! dpkg -s libspdlog-dev >/dev/null 2>&1; then
          echo "libspdlog-dev not found, building from source..."
          git clone https://github.com/gabime/spdlog.git /tmp/spdlog
          cd /tmp/spdlog && mkdir build && cd build
          cmake .. -DCMAKE_POSITION_INDEPENDENT_CODE=ON && make -j$(nproc)
          sudo make install
        else
          echo "libspdlog-dev already installed."
        fi

    - name: Configure CMake
      run: |
        mkdir build
        cd build
        cmake .. -DCMAKE_BUILD_TYPE=Debug -DCMAKE_POSITION_INDEPENDENT_CODE=ON

    - name: Build Application
      run: cmake --build build

    - name: Run Tests
      # Assuming your tests executable is named 'test_runner' in the build directory
      run: |
        cd build
        ./tests/test_runner

    - name: Code Coverage (Optional)
      if: success()
      run: |
        # Example using gcov/lcov (requires compilation with -fprofile-arcs -ftest-coverage)
        # For full coverage, you'd integrate with Codecov/SonarQube
        echo "Code coverage generation not fully configured in this example."
        # lcov --capture --directory . --output-file coverage.info
        # lcov --remove coverage.info '/usr/*' --output-file coverage.info
        # lcov --list coverage.info
        # bash <(curl -s https://codecov.io/bash) -f coverage.info || echo "Codecov did not collect coverage reports"

  # Optional: Dockerize and Push to Container Registry
  # This job runs only if the build and test job succeeds AND it's a push to 'main' branch
  docker-push:
    needs: build-and-test
    if: github.event_name == 'push' && github.ref == 'refs/heads/main'
    runs-on: ubuntu-latest

    steps:
    - name: Checkout code
      uses: actions/checkout@v3
      with:
        submodules: recursive

    - name: Set up Docker Buildx
      uses: docker/setup-buildx-action@v2

    - name: Log in to Docker Hub
      uses: docker/login-action@v2
      with:
        username: ${{ secrets.DOCKER_USERNAME }}
        password: ${{ secrets.DOCKER_PASSWORD }}

    - name: Build and push Docker image
      uses: docker/build-push-action@v4
      with:
        context: .
        push: true
        tags: |
          ${{ secrets.DOCKER_USERNAME }}/performance-monitor:latest
          ${{ secrets.DOCKER_USERNAME }}/performance-monitor:${{ github.sha }}
        cache-from: type=gha
        cache-to: type=gha,mode=max
```

---

### 4. Testing & Quality

Tests are implemented using **Catch2**. The `CMakeLists.txt` in the `tests/` directory will compile and link the tests.